"use strict";(self.webpackChunkflowsynx=self.webpackChunkflowsynx||[]).push([[9494],{988:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>t,default:()=>x,frontMatter:()=>l,metadata:()=>c,toc:()=>a});var r=n(4848),i=n(8453);const l={sidebar_position:3,title:"Expressions Syntax",description:"Learn how to use expressions in FlowSynx workflows to reference outputs, variables, and nested data dynamically during workflow execution."},t="FlowSynx Expression Syntax",c={id:"reference/flowsynx/expressions",title:"Expressions Syntax",description:"Learn how to use expressions in FlowSynx workflows to reference outputs, variables, and nested data dynamically during workflow execution.",source:"@site/docs/reference/flowsynx/expressions.mdx",sourceDirName:"reference/flowsynx",slug:"/reference/flowsynx/expressions",permalink:"/docs/reference/flowsynx/expressions",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Expressions Syntax",description:"Learn how to use expressions in FlowSynx workflows to reference outputs, variables, and nested data dynamically during workflow execution."},sidebar:"docSidebar",previous:{title:"Workflow Schema",permalink:"/docs/reference/flowsynx/schema"},next:{title:"Error Codes",permalink:"/docs/reference/flowsynx/errorcodes"}},d={},a=[{value:"Overview",id:"overview",level:2},{value:"Expression Sources",id:"expression-sources",level:2},{value:"Basic Examples",id:"basic-examples",level:2},{value:"Accessing Workflow Variables",id:"accessing-workflow-variables",level:3},{value:"Accessing Task Outputs",id:"accessing-task-outputs",level:3},{value:"Nested Property Access",id:"nested-property-access",level:2},{value:"Expression Evaluation Rules",id:"expression-evaluation-rules",level:2},{value:"Supported Operations",id:"supported-operations",level:2},{value:"1. Variable Access",id:"1-variable-access",level:3},{value:"2. Output Access",id:"2-output-access",level:3},{value:"3. Nested Field Access",id:"3-nested-field-access",level:3},{value:"4. Combined or Concatenated Strings",id:"4-combined-or-concatenated-strings",level:3},{value:"5. Recursive Expressions",id:"5-recursive-expressions",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Example Use Case",id:"example-use-case",level:2},{value:"Summary",id:"summary",level:2}];function o(e){const s={admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"flowsynx-expression-syntax",children:"FlowSynx Expression Syntax"}),"\n",(0,r.jsxs)(s.p,{children:["FlowSynx supports a flexible ",(0,r.jsx)(s.strong,{children:"expression system"})," that allows you to reference ",(0,r.jsx)(s.strong,{children:"workflow outputs"}),", ",(0,r.jsx)(s.strong,{children:"variables"}),", and ",(0,r.jsx)(s.strong,{children:"nested properties"})," dynamically within workflow definitions.",(0,r.jsx)(s.br,{}),"\n","Expressions are resolved at runtime by the ",(0,r.jsx)(s.code,{children:"ExpressionParser"})," engine."]}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(s.p,{children:"Expressions are enclosed within the syntax:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"$[...]\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Anything inside ",(0,r.jsx)(s.code,{children:"$[...]"})," is evaluated by the expression parser."]}),"\n",(0,r.jsxs)(s.p,{children:["You can use this syntax anywhere in your workflow \u2014 for example in ",(0,r.jsx)(s.strong,{children:"task parameters"}),", ",(0,r.jsx)(s.strong,{children:"paths"}),", or ",(0,r.jsx)(s.strong,{children:"input data"})," fields."]}),"\n",(0,r.jsx)(s.h2,{id:"expression-sources",children:"Expression Sources"}),"\n",(0,r.jsx)(s.p,{children:"FlowSynx supports two main data sources inside expressions:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Source"}),(0,r.jsx)(s.th,{children:"Syntax Example"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Variables"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"$[Variables('InputPath')]"})}),(0,r.jsxs)(s.td,{children:["References workflow-level variables defined under ",(0,r.jsx)(s.code,{children:'"Variables"'})," in the workflow JSON."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Outputs"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"$[Outputs('TaskName')]"})}),(0,r.jsx)(s.td,{children:"References the output of a previously executed task."})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"Both can be used in nested or concatenated contexts."}),"\n",(0,r.jsx)(s.h2,{id:"basic-examples",children:"Basic Examples"}),"\n",(0,r.jsx)(s.h3,{id:"accessing-workflow-variables",children:"Accessing Workflow Variables"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsonc",children:'"Parameters": {\n  "Path": "$[Variables(\'InputPath\')]"\n}\n'})}),"\n",(0,r.jsx)(s.p,{children:"If your workflow defines:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsonc",children:'"Variables": {\n  "InputPath": "s3://bucket/input"\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["The parser will replace ",(0,r.jsx)(s.code,{children:"$[Variables('InputPath')]"})," with:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"s3://bucket/input\n"})}),"\n",(0,r.jsx)(s.h3,{id:"accessing-task-outputs",children:"Accessing Task Outputs"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsonc",children:'"Parameters": {\n  "Data": "$[Outputs(\'ExtractData\')]"\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["This retrieves the ",(0,r.jsx)(s.strong,{children:"entire output"})," of a task named ",(0,r.jsx)(s.code,{children:"ExtractData"}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"nested-property-access",children:"Nested Property Access"}),"\n",(0,r.jsxs)(s.p,{children:["You can access ",(0,r.jsx)(s.strong,{children:"nested fields"})," or ",(0,r.jsx)(s.strong,{children:"array elements"})," inside objects and arrays using ",(0,r.jsx)(s.code,{children:"."})," (dot notation) or ",(0,r.jsx)(s.code,{children:"[]"})," (indexers):"]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Example"}),(0,r.jsx)(s.th,{children:"Meaning"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"$[Outputs('ExtractData').Records[0].Id]"})}),(0,r.jsxs)(s.td,{children:["Accesses the ",(0,r.jsx)(s.code,{children:"Id"})," property of the first record in the ",(0,r.jsx)(s.code,{children:"Records"})," array."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"$[Outputs('Transform').Result.Data.Value]"})}),(0,r.jsx)(s.td,{children:"Accesses a deeply nested property."})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"These can be combined with variable lookups:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsonc",children:'"Parameters": {\n  "Path": "$[Variables(\'BasePath\')]/$[Outputs(\'Task1\').FileName]"\n}\n'})}),"\n",(0,r.jsx)(s.p,{children:"If:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsonc",children:'"Variables": { "BasePath": "/data/output" },\n"Outputs": { "Task1": { "FileName": "report.csv" } }\n'})}),"\n",(0,r.jsx)(s.p,{children:"Result:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"/data/output/report.csv\n"})}),"\n",(0,r.jsx)(s.h2,{id:"expression-evaluation-rules",children:"Expression Evaluation Rules"}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"ExpressionParser"})," engine follows these rules:"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Single Expression"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["If the expression is ",(0,r.jsx)(s.em,{children:"entirely"})," a ",(0,r.jsx)(s.code,{children:"$[...]"})," block, the value is returned directly as an object (not just a string)."]}),"\n",(0,r.jsxs)(s.li,{children:["Example: ",(0,r.jsx)(s.code,{children:"$[Outputs('Task1')]"})," returns the full object produced by ",(0,r.jsx)(s.code,{children:"Task1"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"String Concatenation"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"If the expression is embedded within a larger string, the resolved value is converted to a string and concatenated."}),"\n",(0,r.jsxs)(s.li,{children:["Example: ",(0,r.jsx)(s.code,{children:"\"File: $[Outputs('Task1').FileName]\""})," \u2192 ",(0,r.jsx)(s.code,{children:'"File: result.csv"'}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Nested Expressions"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Expressions can reference other expressions recursively."}),"\n",(0,r.jsxs)(s.li,{children:["Example: ",(0,r.jsx)(s.code,{children:"$[Variables(Outputs('MetaTask').VariableKey)]"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Case Insensitivity"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Keys and property names are resolved case-insensitively (",(0,r.jsx)(s.code,{children:"Outputs('task1')"})," = ",(0,r.jsx)(s.code,{children:"Outputs('Task1')"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Unbalanced Brackets or Parentheses"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["The parser detects and throws descriptive errors for unbalanced ",(0,r.jsx)(s.code,{children:"[]"})," or ",(0,r.jsx)(s.code,{children:"()"})," characters."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Quoted Keys"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["You can wrap keys in single quotes to include spaces or special characters:",(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.code,{children:"$[Variables('My Custom Key')]"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"supported-operations",children:"Supported Operations"}),"\n",(0,r.jsx)(s.h3,{id:"1-variable-access",children:"1. Variable Access"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"$[Variables('key')]\n"})}),"\n",(0,r.jsx)(s.h3,{id:"2-output-access",children:"2. Output Access"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"$[Outputs('taskName')]\n"})}),"\n",(0,r.jsx)(s.h3,{id:"3-nested-field-access",children:"3. Nested Field Access"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"$[Outputs('task').data.results[1].value]\n"})}),"\n",(0,r.jsx)(s.h3,{id:"4-combined-or-concatenated-strings",children:"4. Combined or Concatenated Strings"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"\"Path\": \"logs/$[Variables('RunId')]/$[Outputs('Extract').FileName]\"\n"})}),"\n",(0,r.jsx)(s.h3,{id:"5-recursive-expressions",children:"5. Recursive Expressions"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"$[Variables(Outputs('Metadata').DynamicKey)]\n"})}),"\n",(0,r.jsx)(s.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsxs)(s.p,{children:["When an expression cannot be resolved, the parser throws a ",(0,r.jsx)(s.code,{children:"FlowSynxException"})," with specific error codes."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Error Code"}),(0,r.jsx)(s.th,{children:"Condition"}),(0,r.jsx)(s.th,{children:"Example"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"ExpressionParserKeyNotFound"})}),(0,r.jsxs)(s.td,{children:["Key or source (",(0,r.jsx)(s.code,{children:"Variables"})," / ",(0,r.jsx)(s.code,{children:"Outputs"}),") is missing or invalid."]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"$[Outputs('UnknownTask')]"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\u2014"}),(0,r.jsx)(s.td,{children:"Unbalanced brackets or parentheses."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"$[Variables('Key'"})})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"example-use-case",children:"Example Use Case"}),"\n",(0,r.jsx)(s.p,{children:"Here\u2019s a real-world usage in a FlowSynx workflow task:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsonc",children:'{\n  "Name": "SaveData",\n  "Type": "FlowSynx.FileSystem",\n  "Dependencies": ["ToCSV"],\n  "Parameters": {\n    "Operation": "write",\n    "Path": "$[Variables(\'OutputDirectory\')]/$[Outputs(\'ToCSV\').FileName]",\n    "Data": "$[Outputs(\'ToCSV\').Content]",\n    "Overwrite": true\n  }\n}\n'})}),"\n",(0,r.jsx)(s.p,{children:"If:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsonc",children:'"Variables": { "OutputDirectory": "/mnt/results" },\n"Outputs": { "ToCSV": { "FileName": "report.csv", "Content": "data" } }\n'})}),"\n",(0,r.jsx)(s.p,{children:"Then the evaluated parameters become:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsonc",children:'{\n  "Operation": "write",\n  "Path": "/mnt/results/report.csv",\n  "Data": "data",\n  "Overwrite": true\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(s.p,{children:"FlowSynx Expressions allow:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Dynamic parameter substitution."}),"\n",(0,r.jsx)(s.li,{children:"Flexible referencing of workflow data."}),"\n",(0,r.jsx)(s.li,{children:"Safe and validated parsing with descriptive errors."}),"\n",(0,r.jsx)(s.li,{children:"Recursive resolution for advanced workflow logic."}),"\n"]}),"\n",(0,r.jsx)(s.admonition,{type:"info",children:(0,r.jsxs)(s.p,{children:["You can use ",(0,r.jsx)(s.code,{children:"$[Variables(...)]"})," and ",(0,r.jsx)(s.code,{children:"$[Outputs(...)]"})," in ",(0,r.jsx)(s.em,{children:"any"})," string field inside a FlowSynx workflow \u2014 the parser will automatically handle context-aware replacements."]})})]})}function x(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var r=n(6540);const i={},l=r.createContext(i);function t(e){const s=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);