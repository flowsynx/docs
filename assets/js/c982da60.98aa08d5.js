"use strict";(globalThis.webpackChunkflowsynx=globalThis.webpackChunkflowsynx||[]).push([[9494],{3422:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"reference/flowsynx/expressions","title":"Expressions Syntax","description":"FlowSynx expression system for dynamic access to variables, task outputs, nested data, arithmetic, conditionals, boolean logic, and functional aggregation.","source":"@site/docs/reference/flowsynx/expressions.mdx","sourceDirName":"reference/flowsynx","slug":"/reference/flowsynx/expressions","permalink":"/docs/reference/flowsynx/expressions","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1766509552000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Expressions Syntax","description":"FlowSynx expression system for dynamic access to variables, task outputs, nested data, arithmetic, conditionals, boolean logic, and functional aggregation."},"sidebar":"docSidebar","previous":{"title":"Workflow Schema","permalink":"/docs/reference/flowsynx/schema"},"next":{"title":"Error Codes","permalink":"/docs/reference/flowsynx/errorcodes"}}');var r=s(4848),t=s(8453);const l={sidebar_position:3,title:"Expressions Syntax",description:"FlowSynx expression system for dynamic access to variables, task outputs, nested data, arithmetic, conditionals, boolean logic, and functional aggregation."},c="FlowSynx Expression Syntax",a={},d=[{value:"Core Delimiter",id:"core-delimiter",level:2},{value:"Data Sources",id:"data-sources",level:2},{value:"Outputs as PluginContext",id:"outputs-as-plugincontext",level:3},{value:"Example",id:"example",level:4},{value:"Accessing Metadata",id:"accessing-metadata",level:5},{value:"Accessing Content",id:"accessing-content",level:5},{value:"Accessing Structured Data",id:"accessing-structured-data",level:5},{value:"Combining Properties",id:"combining-properties",level:5},{value:"Notes on PluginContext",id:"notes-on-plugincontext",level:4},{value:"Updated Examples",id:"updated-examples",level:4},{value:"Error Handling for PluginContext",id:"error-handling-for-plugincontext",level:4},{value:"Nested Access",id:"nested-access",level:2},{value:"Literal Values",id:"literal-values",level:2},{value:"Functional Methods",id:"functional-methods",level:2},{value:"Arithmetic Expressions",id:"arithmetic-expressions",level:2},{value:"Boolean Logic &amp; Comparisons",id:"boolean-logic--comparisons",level:2},{value:"Conditional (Ternary) Expressions",id:"conditional-ternary-expressions",level:2},{value:"Recursive &amp; Dynamic Keys",id:"recursive--dynamic-keys",level:2},{value:"String Concatenation Example",id:"string-concatenation-example",level:2},{value:"Return Value Behavior",id:"return-value-behavior",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Examples",id:"examples",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Summary",id:"summary",level:2}];function o(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"flowsynx-expression-syntax",children:"FlowSynx Expression Syntax"})}),"\n",(0,r.jsxs)(n.p,{children:["FlowSynx provides a powerful expression system for dynamically resolving ",(0,r.jsx)(n.strong,{children:"workflow variables"}),", ",(0,r.jsx)(n.strong,{children:"task outputs"}),", ",(0,r.jsx)(n.strong,{children:"nested properties"}),", ",(0,r.jsx)(n.strong,{children:"arithmetic"}),", ",(0,r.jsx)(n.strong,{children:"boolean logic"}),", ",(0,r.jsx)(n.strong,{children:"conditional (ternary) operations"}),", and ",(0,r.jsx)(n.strong,{children:"functional aggregations"})," at runtime.",(0,r.jsx)(n.br,{}),"\n","All expressions are evaluated by the ",(0,r.jsx)(n.code,{children:"ExpressionParser"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"core-delimiter",children:"Core Delimiter"}),"\n",(0,r.jsx)(n.p,{children:"Wrap any resolvable content in:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[...]\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If the entire value is a single ",(0,r.jsx)(n.code,{children:"$[...]"})," block, the resolved object is returned directly (e.g. an array or JSON object). If embedded inside a larger string, the resolved value is converted to a string and concatenated."]}),"\n",(0,r.jsx)(n.h2,{id:"data-sources",children:"Data Sources"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Source"}),(0,r.jsx)(n.th,{children:"Syntax"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Variables"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$[Variables('Key')]"})}),(0,r.jsx)(n.td,{children:"Workflow-level variable lookup (case-insensitive)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Outputs"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$[Outputs('TaskName')]"})}),(0,r.jsx)(n.td,{children:"Output of a previously executed task (case-insensitive)."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Keys with spaces or special characters should use single quotes: ",(0,r.jsx)(n.code,{children:"$[Variables('My Custom Key')]"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"outputs-as-plugincontext",children:"Outputs as PluginContext"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"command:_github.copilot.openSymbolFromReferences?%5B%22%22%2C%5B%7B%22uri%22%3A%7B%22scheme%22%3A%22file%22%2C%22authority%22%3A%22%22%2C%22path%22%3A%22%2Fc%3A%2Fgithub%2Fflowsynx%2Fdocs%2Fdocs%2Freference%2Fflowsynx%2Fexpressions.mdx%22%2C%22query%22%3A%22%22%2C%22fragment%22%3A%22%22%7D%2C%22pos%22%3A%7B%22line%22%3A25%2C%22character%22%3A2%7D%7D%5D%2C%2203b219c3-6667-4007-919c-1aa2e2101390%22%5D",title:"Go to definition",children:(0,r.jsx)(n.code,{children:"Outputs"})})," object provides access to the following properties:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Id"})}),(0,r.jsx)(n.td,{children:"The unique identifier of the plugin context."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SourceType"})}),(0,r.jsx)(n.td,{children:"The type of source that generated the output."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Format"})}),(0,r.jsx)(n.td,{children:"The format of the output, if applicable."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Metadata"})}),(0,r.jsx)(n.td,{children:"A dictionary containing metadata as key-value pairs."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RawData"})}),(0,r.jsx)(n.td,{children:"The raw binary data of the output, if available."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Content"})}),(0,r.jsx)(n.td,{children:"The string content of the output, if available."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"StructuredData"})}),(0,r.jsx)(n.td,{children:"A list of dictionaries representing structured data, if applicable."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Keys with spaces or special characters should use single quotes: ",(0,r.jsx)(n.code,{children:"$[Variables('My Custom Key')]"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.h5,{id:"accessing-metadata",children:"Accessing Metadata"}),"\n",(0,r.jsx)(n.p,{children:"You can retrieve specific metadata values using dot notation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Outputs('TaskName').Metadata['Key']]\n"})}),"\n",(0,r.jsx)(n.h5,{id:"accessing-content",children:"Accessing Content"}),"\n",(0,r.jsx)(n.p,{children:"To retrieve the content of the output:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Outputs('TaskName').Content]\n"})}),"\n",(0,r.jsx)(n.h5,{id:"accessing-structured-data",children:"Accessing Structured Data"}),"\n",(0,r.jsx)(n.p,{children:"You can traverse the StructuredData property to access specific elements:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Outputs('TaskName').StructuredData[0]['FieldName']]\n"})}),"\n",(0,r.jsx)(n.h5,{id:"combining-properties",children:"Combining Properties"}),"\n",(0,r.jsx)(n.p,{children:"You can combine multiple properties in expressions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Outputs('TaskName').Id + ' - ' + Outputs('TaskName').SourceType]\n"})}),"\n",(0,r.jsx)(n.h4,{id:"notes-on-plugincontext",children:"Notes on PluginContext"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Metadata keys are case-insensitive."}),"\n",(0,r.jsx)(n.li,{children:"RawData is a binary array and cannot be directly used in string concatenation. You may need to convert it to a string or process it separately."}),"\n",(0,r.jsx)(n.li,{children:"StructuredData is a list of dictionaries, allowing traversal and dynamic access to nested fields."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"updated-examples",children:"Updated Examples"}),"\n",(0,r.jsx)(n.p,{children:"Here are some updated examples reflecting the PluginContext structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Outputs('Task').Id]\n$[Outputs('Task').Metadata['Category']]\n$[Outputs('Task').StructuredData[0]['Name']]\n$[Contains(Outputs('Task').Metadata, 'urgent')]\n$[Outputs('Task').Content == 'success' ? 'completed' : 'retry']\n"})}),"\n",(0,r.jsx)(n.h4,{id:"error-handling-for-plugincontext",children:"Error Handling for PluginContext"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Accessing a non-existent property or key in Metadata or StructuredData will throw a FlowSynxException with the code ExpressionParserKeyNotFound."}),"\n",(0,r.jsx)(n.li,{children:"Ensure that RawData and StructuredData are not null before accessing their contents."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This update ensures that the Outputs object is documented accurately as a PluginContext type, reflecting its properties and usage in expressions."}),"\n",(0,r.jsx)(n.h2,{id:"nested-access",children:"Nested Access"}),"\n",(0,r.jsx)(n.p,{children:"Use dot notation and indexers:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Example"}),(0,r.jsx)(n.th,{children:"Meaning"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$[Outputs('Extract').Id]"})}),(0,r.jsxs)(n.td,{children:["Record's ",(0,r.jsx)(n.code,{children:"Id"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$[Outputs('Transform').Content]"})}),(0,r.jsx)(n.td,{children:"Property traversal."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$[Outputs('Task').Metadata[Variables('Index')]]"})}),(0,r.jsx)(n.td,{children:"Dynamic index."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Arrays are supported for ",(0,r.jsx)(n.code,{children:"IList"})," and ",(0,r.jsx)(n.code,{children:"JArray"}),". Properties are resolved case-insensitively (",(0,r.jsx)(n.code,{children:"JObject"}),", ",(0,r.jsx)(n.code,{children:"JToken"}),", or CLR objects)."]}),"\n",(0,r.jsx)(n.h2,{id:"literal-values",children:"Literal Values"}),"\n",(0,r.jsx)(n.p,{children:"Inside expressions you can use:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Quoted strings: ",(0,r.jsx)(n.code,{children:"'text'"})," or ",(0,r.jsx)(n.code,{children:'"text"'})]}),"\n",(0,r.jsxs)(n.li,{children:["Numbers: ",(0,r.jsx)(n.code,{children:"42"}),", ",(0,r.jsx)(n.code,{children:"3.14"})]}),"\n",(0,r.jsxs)(n.li,{children:["Booleans: ",(0,r.jsx)(n.code,{children:"true"}),", ",(0,r.jsx)(n.code,{children:"false"})]}),"\n",(0,r.jsxs)(n.li,{children:["Null: ",(0,r.jsx)(n.code,{children:"null"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Example: ",(0,r.jsx)(n.code,{children:"$['static-value']"})]}),"\n",(0,r.jsx)(n.h2,{id:"functional-methods",children:"Functional Methods"}),"\n",(0,r.jsx)(n.p,{children:"Built-in case-insensitive aggregation and search functions:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Function"}),(0,r.jsx)(n.th,{children:"Signature"}),(0,r.jsx)(n.th,{children:"Behavior"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Min"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Min(arg1, arg2, collection, ...)"})}),(0,r.jsx)(n.td,{children:"Returns smallest numeric value (flattens enumerables)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Max"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Max(...)"})}),(0,r.jsx)(n.td,{children:"Returns largest numeric value."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Sum"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Sum(...)"})}),(0,r.jsx)(n.td,{children:"Sums all numeric values."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Avg"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Avg(...)"})}),(0,r.jsx)(n.td,{children:"Arithmetic mean (0 if no numbers)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Count"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Count(collection)"})," or ",(0,r.jsx)(n.code,{children:"Count(arg1,arg2,...)"})]}),(0,r.jsx)(n.td,{children:"If single enumerable \u2192 element count; otherwise number of arguments."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Contains"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Contains(container, value)"})}),(0,r.jsx)(n.td,{children:"Case-insensitive search (strings, enumerables, or direct value comparison)."})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Arguments can be:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Literals"}),"\n",(0,r.jsx)(n.li,{children:"Variable/output references"}),"\n",(0,r.jsx)(n.li,{children:"Nested expressions"}),"\n",(0,r.jsx)(n.li,{children:"Other functional calls"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Examples:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Sum(Variables('Prep').Values)] \n$[Avg(Variables('A').Numbers, Outputs('B').Content, 10)] \n$[Count(Variables('ListTask').Items)] \n$[Contains(Outputs('Meta').Metadata, 'critical')] \n$[Min(Variables('A').Values, Variables('B').Values)]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"arithmetic-expressions",children:"Arithmetic Expressions"}),"\n",(0,r.jsxs)(n.p,{children:["You can perform arithmetic inside ",(0,r.jsx)(n.code,{children:"$[...]"})," using operators: ",(0,r.jsx)(n.code,{children:"+ - * / %"})," and parentheses."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[(Variables('Calc').Base + Variables('Offset')) * 0.5]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Resolution flow:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Embedded ",(0,r.jsx)(n.code,{children:"$[...]"})," segments inside the arithmetic are first resolved."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Variables(...)"})," / ",(0,r.jsx)(n.code,{children:"Outputs(...)"})," inside arithmetic are replaced with their string value (missing values become ",(0,r.jsx)(n.code,{children:"0"})," in arithmetic context)."]}),"\n",(0,r.jsxs)(n.li,{children:["Expression is evaluated; numeric result returned as ",(0,r.jsx)(n.code,{children:"double"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"If evaluation fails, it falls back to literal/lookup interpretation."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"boolean-logic--comparisons",children:"Boolean Logic & Comparisons"}),"\n",(0,r.jsxs)(n.p,{children:["Supported operators: ",(0,r.jsx)(n.code,{children:"== != > < >= <= && || !"})]}),"\n",(0,r.jsx)(n.p,{children:"Examples:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Variables('Mode') == 'fast'] \n$[Variables('Stats').Errors > 0 && Variables('Stats').Warnings == 0] \n$[!Contains(Variables('Tags').All,'deprecated')]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Comparison semantics:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Equality is case-insensitive string comparison for ",(0,r.jsx)(n.code,{children:"=="})," / ",(0,r.jsx)(n.code,{children:"!="}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Relational operators (",(0,r.jsx)(n.code,{children:"> < >= <="}),") apply only if both sides convert to numbers."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"conditional-ternary-expressions",children:"Conditional (Ternary) Expressions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Variables('Score').Value >= 90 ? 'excellent' : 'standard'] \n$[Contains(Outputs('Meta').Metadata, 'urgent') ? Variables('UrgentPath') : Variables('NormalPath')]\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Format: ",(0,r.jsx)(n.code,{children:"condition ? whenTrue : whenFalse"}),(0,r.jsx)(n.br,{}),"\n","Condition can include logical or comparison operators."]}),"\n",(0,r.jsx)(n.h2,{id:"recursive--dynamic-keys",children:"Recursive & Dynamic Keys"}),"\n",(0,r.jsx)(n.p,{children:"You can build dynamic keys or nested expressions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Variables(Outputs('Meta').Id)] \n$[Outputs(Variables('DynamicTask')).StructuredData]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Resolution is recursive: inner expressions resolve before outer structures."}),"\n",(0,r.jsx)(n.h2,{id:"string-concatenation-example",children:"String Concatenation Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\"Path\": \"$[Variables('Base')]/$[Outputs('Export').Id]\"\n"})}),"\n",(0,r.jsx)(n.p,{children:"If:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Variables: { "Base": "/data/out" } Outputs: { "Export": { "Id": "report.csv" } }\n'})}),"\n",(0,r.jsx)(n.p,{children:"Result:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/data/out/report.csv\n"})}),"\n",(0,r.jsx)(n.h2,{id:"return-value-behavior",children:"Return Value Behavior"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Whole expression only: ",(0,r.jsx)(n.code,{children:"$[Outputs('Task')]"})," \u2192 returns the raw object (array, complex type, etc.)."]}),"\n",(0,r.jsxs)(n.li,{children:["Embedded in text: ",(0,r.jsx)(n.code,{children:"\"File=$[Outputs('Task').Id]\""})," \u2192 string interpolation."]}),"\n",(0,r.jsx)(n.li,{children:"Functions/Arithmetic: return numeric or boolean values directly if standalone."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsxs)(n.p,{children:["Parser throws ",(0,r.jsx)(n.code,{children:"FlowSynxException"})," (code: ",(0,r.jsx)(n.code,{children:"ExpressionParserKeyNotFound"}),") for:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Missing ",(0,r.jsx)(n.code,{children:"Variables('key')"})," or ",(0,r.jsx)(n.code,{children:"Outputs('key')"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Unbalanced brackets ",(0,r.jsx)(n.code,{children:"[...]"})," or parentheses ",(0,r.jsx)(n.code,{children:"(...)"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Invalid functional syntax (e.g. ",(0,r.jsx)(n.code,{children:"Contains()"})," with argument count \u2260 2)."]}),"\n",(0,r.jsx)(n.li,{children:"Malformed conditional expressions."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["In arithmetic-only contexts, missing lookups are coerced to ",(0,r.jsx)(n.code,{children:"0"})," (to avoid failure). Direct lookup outside arithmetic still throws."]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$[Sum(Outputs('Collect').Content, 10, Variables('Bonus'))] \n$[Outputs('Metrics').Metadata[0] > 50 ? 'pass' : 'fail'] \n$[Contains(Outputs('Tags').List, Variables('TargetTag')) && Variables('Stats').Count >= 5] \n$[Min(Outputs('A').Content, Outputs('B').Content)] \n$[Variables(Outputs('Resolver').Id)]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use single quotes for keys with spaces: ",(0,r.jsx)(n.code,{children:"$[Variables('My Key')]"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Keep arithmetic numeric; non-numeric tokens cause literal fallback."}),"\n",(0,r.jsx)(n.li,{children:"Prefer explicit parentheses for complex logic."}),"\n",(0,r.jsx)(n.li,{children:"Avoid over-nesting; consider storing intermediate values in variables."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"FlowSynx Expressions support:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Dynamic access to variables and task outputs"}),"\n",(0,r.jsx)(n.li,{children:"Nested property and array traversal"}),"\n",(0,r.jsx)(n.li,{children:"Functional aggregation (Min/Max/Sum/Avg/Count/Contains)"}),"\n",(0,r.jsx)(n.li,{children:"Arithmetic and numeric evaluation"}),"\n",(0,r.jsx)(n.li,{children:"Boolean logic and conditional branching"}),"\n",(0,r.jsx)(n.li,{children:"Recursive and dynamic key resolution"}),"\n",(0,r.jsx)(n.li,{children:"Strong error signaling for invalid syntax"}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Expressions can be used in any string field in workflow definitions. Mix multiple ",(0,r.jsx)(n.code,{children:"$[...]"})," segments freely; each is resolved independently and merged into the final string."]})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);